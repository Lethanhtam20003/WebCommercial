<div class="container custom-container my-5">
	<h2 class="mb-4">Giỏ hàng người dùng</h2>

	<div *ngIf="cartItems.length === 0" class="alert alert-info">
		Giỏ hàng của bạn đang trống.
	</div>

	<div *ngIf="cartItems.length > 0">
		<div
			*ngFor="let item of cartItems"
			class="row mb-3 align-items-center border-bottom pb-3"
		>
			<div class="col-auto">
				<img
					[src]="item.productImg"
					alt="{{ item.name }}"
					class="cart-img img-fluid rounded"
				/>
			</div>

			<div class="col">
				<div class="d-flex justify-content-between align-items-start">
					<!-- Bên trái: Tên + Giá -->
					<div class="me-3 pe-2">
						<h5 class="mb-2">{{ item.name }}</h5>
						<p class="mb-0">Giá: {{ item.price | currency: 'VND' }}</p>
					</div>

					<!-- Bên phải: Input số lượng -->
					<div class="d-flex align-items-center">
						<button
							class="btn btn-outline-secondary"
							(click)="decreaseQuantity(item)"
							[disabled]="item.quantity <= 1"
						>
							−
						</button>

						<span class="mx-3">{{ item.quantity }}</span>

						<button
							class="btn btn-outline-secondary"
							(click)="increaseQuantity(item)"
						>
							+
						</button>
					</div>
				</div>
			</div>

			<!-- Cột nút xoá -->
			<div class="col-auto d-flex align-items-center justify-content-end">
				<button class="btn btn-danger" (click)="removeItem(item)">Xoá</button>
			</div>
		</div>

		<div class="text-end mt-4">
			<h4 class="mb-3">Tổng cộng: {{ getTotal() | currency: 'VND' }}</h4>
			<button class="btn btn-primary btn-lg" (click)="checkout()">
				Thanh toán
			</button>
		</div>
	</div>
</div>
